/*!
 * cloud-utils v1.1.7 
 * (c) 2017 liwb
 * A collection of utils
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.CloudUtils={})}(this,function(e){"use strict";function t(e,t,n,o){var i=r(e);if(i>3){var a=i%8;return a>=5&&(a=4),Math.floor(t/Math.pow(10,a+n-o))/Math.pow(10,o)+"\u4e07"}return Math.floor(t/Math.pow(10,n-o))/Math.pow(10,o)}function r(e){for(var t=-1;e>=1;)t++,e/=10;return t}function n(e){var t=new RegExp("(\\?|#|&)"+e+"=([^&#]*)(&|#|$)"),r=window.location.href.match(t);return null!==t?decodeURIComponent(r?r[2]:""):null}function o(e){var t;for(t in e)return!1;return!0}function i(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}var a=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};e.accAdd=function(e,t){var r,n,o,i;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}if(i=Math.abs(r-n),o=Math.pow(10,Math.max(r,n)),i>0){var a=Math.pow(10,i);r>n?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*a):(e=Number(e.toString().replace(".",""))*a,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/o},e.accDiv=function(e,t){var r,n,o=0,i=0;try{o=e.toString().split(".")[1].length}catch(e){}try{i=t.toString().split(".")[1].length}catch(e){}return r=Number(e.toString().replace(".","")),n=Number(t.toString().replace(".","")),r/n*Math.pow(10,i-o)},e.accMul=function(e,t){var r=0,n=e.toString(),o=t.toString();try{r+=n.split(".")[1].length}catch(e){}try{r+=o.split(".")[1].length}catch(e){}return Number(n.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,r)},e.accSub=function(e,t){var r,n,o,i;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}return o=Math.pow(10,Math.max(r,n)),i=r>=n?r:n,((e*o-t*o)/o).toFixed(i)},e.addChineseUnit=function(e,n){void 0===n&&(n=2);var o=!1;e<0&&(o=!0,e=Math.abs(e));var i=Math.floor(e),a=r(i),s=[];if(a>3){var c=Math.floor(a/8);if(c>=1){var u=Math.floor(i/Math.pow(10,8*c));s.push(t(u,e,8*c,n));for(var l=0;l<c;l++)s.push("\u4ebf");return o?"-"+s.join(""):s.join("")}return o?"-"+t(i,e,0,n):t(i,e,0,n)}return o?"-"+e:e},e.appendStockSuffix=function(e){return/^(((700|730|900|600|601|580)[\d]{3})|60[\d]{4})$/.test(e)?e+=".SS":/^(((000|002|200|300|080|031)[\d]{3}|00[\d]{4}))$/.test(e)&&(e+=".SZ"),e},e.encrypt=function(e){var t=[];return Object.keys(e).sort().forEach(function(r){t.push(r+"="+e[r])}),t.join("&")},e.extend=function(e,t){for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e},e.formatBankCard=function(e){if("string"!=typeof e)throw new Error("val");return e.length<4?e:e.replace(/(\d{4})(?=\d)/g,"$1 ")},e.formatDate=function(e,t){void 0===e&&(e=new Date),void 0===t&&(t="yyyy-MM-dd HH:mm:ss");var r={"M+":(e="number"==typeof e||"string"==typeof e?new Date(e):e).getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"\u661f\u671f":"\u5468":"")+{0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"}[e.getDay()+""]));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t},e.formatTimeAgo=function(e){function t(e){return e<10?"0"+e:e}e=parseInt(e);var r=(Date.now()-e)/1e3,n=new Date,o=Math.round(r/86400),i=Math.round(r/3600),a=Math.round(r/60),s=Math.round(r);return o>0&&o<2?o+"\u5929\u524d":o<=0&&i>0?i+"\u5c0f\u65f6\u524d":i<=0&&a>0?a+"\u5206\u949f\u524d":a<=0&&s>=0?"\u521a\u521a":(n.setTime(e),n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+" "+t(n.getHours())+":"+t(n.getMinutes()))},e.formatDateToTimeStamp=function(e){if("string"!=typeof e)throw new Error("time\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662fstring");e.length>19&&(e=e.substring(0,19));var t,r=/-|\./g;return r.test(e)?t=e.replace(r,"/"):~e.indexOf("-")||(t=e.slice(0,4)+"/"+e.slice(4,6)+"/"+e.slice(6,8)+e.slice(8)),Math.round(new Date(t).getTime())},e.formatMoney=function(e,t){return void 0===t&&(t=","),e.replace(/\B(?=(\d{3})+(?!\d))/g,t)},e.formatPhone=function(e,t){return void 0===t&&(t="****"),e.replace(/(\d{3})\d{4}(\d{4})/,"$1"+t+"$2")},e.formatCopyfilesPath=function(e){return"assets/images/copyfiles/"+e},e.getLocationHrefParam=n,e.getLocationSearchParam=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(t);return null!==r?decodeURIComponent(r[2]):null},e.getUrlNames=function(e){var t=n(e),r={};if(t)for(var i=t.split(";"),a=0,s=i.length;a<s;a++)if(-1!==i[a].indexOf(":")){var c=i[a].split(":");r[c[0]]=c[1]}return o(r)?"":r},e.generateGUID=function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:7&r|8).toString(16)})},e.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.htmlDecode=function(e){if("string"!=typeof e||0!==e.length)return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/<br>/g,"\\n")},e.htmlEncode=function(e){if("string"!=typeof e||0!==e.length)return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/ /g,"&nbsp;").replace(/\"/g,"&quot;").replace(/\n/g,"<br>")},e.inAlipay=function(){if("undefined"!=typeof navigator)return-1!==navigator.userAgent.toLowerCase().indexOf("alipayclient")},e.inWeixin=function(){if("undefined"!=typeof navigator)return-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger")},e.isCardId=function(e){return/^\d{6}(19|2\d)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)?$/.test(e)},e.isDigit=function(e){return/^-?\d+\.?\d*$/.test(e)},e.isEmptyObject=o,e.isLeapYear=function(e){if("number"!=typeof e)throw new Error("val\u5fc5\u987b\u4e3anumber\u7c7b\u578b");return e%4==0&&e%100!=0||e%400==0},e.isLetters=function(e){return/^[a-z]+$/i.test(e)},e.isLicenseNo=function(e){return/(^[\u4E00-\u9FA5]{1}[A-Z0-9]{6}$)|(^[A-Z]{2}[A-Z0-9]{2}[A-Z0-9\u4E00-\u9FA5]{1}[A-Z0-9]{4}$)|(^[\u4E00-\u9FA5]{1}[A-Z0-9]{5}[\u6302\u5b66\u8b66\u519b\u6e2f\u6fb3]{1}$)|(^[A-Z]{2}[0-9]{5}$)|(^(08|38){1}[A-Z0-9]{4}[A-Z0-9\u6302\u5b66\u8b66\u519b\u6e2f\u6fb3]{1}$)/.test(e)},e.isMobile=function(e){return/^[1][34578]\d{9}$/.test(e)},e.isValidDate=function(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)},e.isValidEmail=function(e){return/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/i.test(e)},e.isValidPassword=function(e){return/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]{6,16}$/.test(e)},e.isValidQQ=function(e){return/^[1-9]\d{4,}$/.test(e)},e.isValidURI=function(e){var t="((https?|s?ftp|irc[6s]?|git|afp|telnet|smb):\\/\\/)?",r="([a-z0-9]\\w*(\\:[\\S]+)?\\@)?",n=[t,r,"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}","(:\\d{1,5})?","(\\/\\S*)?"],o=function(t){return new RegExp("^"+t.join("")+"$","i").test(e)};return o([t,r,"([a-z0-9]([\\w]*[a-z0-9])*\\.)?[a-z0-9]\\w*\\.[a-z]{2,}(\\.[a-z]{2,})?","(:\\d{1,5})?","(\\/\\S*)?"])||o(n)},e.isValidZipcode=function(e){return/^\d{6}$/.test(e)},e.preZeroFill=function(e,t){if(e>=Math.pow(10,t))return e.toString();var r=Array(t+1).join("0")+e;return r.slice(r.length-t)},e.bytesToSize=function(e){if(0===e)return"n/a";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,t)).toFixed(1)+" "+["Bytes","KB","MB"][t]},e.dataURLToBlob=function(e){var t,r,n;if(-1===e.indexOf(";base64,"))return t=e.split(","),r=t[0].split(":")[1],n=decodeURIComponent(t[1]),new Blob([n],{type:r});r=(t=e.split(";base64,"))[0].split(":")[1];for(var o=(n=window.atob(t[1])).length,i=new Uint8Array(o),a=0;a<o;++a)i[a]=n.charCodeAt(a);return new Blob([i],{type:r})},e.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.insertAtCaret=function(e,t){if(void 0===t&&(t=""),document.selection)document.selection.createRange().text=t;else if("number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd){var r=e.selectionStart,n=e.selectionEnd,o=r,i=e.value;e.value=i.substring(0,r)+t+i.substring(n,i.length),o+=t.length,e.selectionStart=e.selectionEnd=o}else e.value+=t},e.getDevice=function(){var e={},t=navigator.userAgent,r=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),o=t.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/);return e.ios=e.android=e.iphone=e.ipad=e.androidChrome=!1,r&&(e.os="android",e.osVersion=r[2],e.android=!0,e.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(n||i||o)&&(e.os="ios",e.ios=!0),i&&!o&&(e.osVersion=i[2].replace(/_/g,"."),e.iphone=!0),n&&(e.osVersion=n[2].replace(/_/g,"."),e.ipad=!0),o&&(e.osVersion=o[3]?o[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&t.indexOf("Version/")>=0&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),e.webView=(i||n||o)&&t.match(/.*AppleWebKit(?!.*Safari)/i),e},e.getBrowser=function(){var e,t=navigator.userAgent.toLowerCase(),r="UNKNOW",n=function(e){return e.test(t)};return n(/msie/)&&!n(/opera/)?(r="ie",e=/msie[\/|\s]*([\d+?\.?]+)/.exec(t)):!n(/webkit/)&&n(/gecko/)&&n(/firefox/)&&!n(/opera/)?(r="firefox",e=/firefox[\/|\s]*([\d+?\.?]+)/.exec(t)):n(/\bchrome\b/)?(r="chrome",e=/chrome[\/|\s]*([\d+?\.?]+)/.exec(t)):n(/applewebkit/)&&n(/safari/)?(r="safari",e=/version[\/|\s]*([\d+?\.?]+)/.exec(t)):n(/opera/)&&(r="opera",e=/version[\/|\s]*([\d+?.?]+)/.exec(t)||/opera[\/|\s]*([\d+?.?]+)/.exec(t)),{type:r,version:e&&e[1]?e[1]:"UNKNOW"}},e.getDiffDay=function(e,t){return e=Number(e),t=Number(t),Math.abs(t-e)/864e5},e.addClass=function(e,t){if(e){for(var r=e.className,n=(t||"").split(" "),o=0,a=n.length;o<a;o++){var s=n[o];s&&(e.classList?e.classList.add(s):i(e,s)||(r+=" "+s))}e.classList||(e.className=r)}},e.hasClass=i,e.removeClass=function(e,t){if(e&&t){for(var r=t.split(" "),n=" "+e.className+" ",o=0,s=r.length;o<s;o++){var c=r[o];c&&(e.classList?e.classList.remove(c):i(e,c)&&(n=n.replace(" "+c+" "," ")))}e.classList||(e.className=a(n))}},e.toCamelCaseVar=function(e){return e.replace(/_+[a-zA-Z]/g,function(e,t){return t?e.substr(-1).toUpperCase():e})},Object.defineProperty(e,"__esModule",{value:!0})});